{"version":3,"sources":["redux/types.js","components/AddCall/AddCall.js","redux/actionCreators.js","components/Button/Button.js","helpers/date.js","components/CallList/CallItem.js","redux/selectors.js","components/CallList/Hook.js","components/CallList/CallList.js","components/NextCall/NextCall.js","redux/reducer.js","redux/configureStore.js","App.js","index.js"],"names":["ActionTypeList","initialState","calls","JSON","parse","localStorage","getItem","data","name","phoneNumber","time","keys","Object","AddCall","dispatch","useDispatch","className","onSubmit","event","preventDefault","call","newData","Array","from","target","reduce","acc","curr","includes","value","number","replace","substr","id","Math","random","toString","type","payload","reset","required","placeholder","maxLength","pattern","require","Button","props","children","getCurrentTime","currentDate","Date","getHours","getMinutes","CallItem","currentTime","onClick","checked","disabled","getCalls","state","getNextCall","sort","a","b","filter","sortByOrder","key","order","firstCall","secondCall","directionMutiplier","getSortIcon","sortOrder","CallList","useState","setFilter","setSortOrder","useSelector","sortedCalls","all","next","finished","filters","useEffect","setItem","stringify","handleSortOrderChange","useSortedCalls","map","NextCall","nextCall","reducer","action","store","createStore","reducers","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89d5ca6c.chunk.js","sourcesContent":["export const ActionTypeList = {\r\n  ADD_CALL: \"ADD_CALL\",\r\n  DELETE_CALL: \"DELETE_CALL\",\r\n};\r\n\r\nexport const initialState = {\r\n  calls: JSON.parse(localStorage.getItem(\"calls\")) || [],\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addCall } from \"../../redux/actionCreators\";\r\nimport \"./AddCall.scss\";\r\n\r\nconst data = {\r\n  name: \"\",\r\n  phoneNumber: \"\",\r\n  time: \"\",\r\n};\r\nconst keys = Object.keys(data);\r\n\r\nfunction AddCall() {\r\n  const dispatch = useDispatch();\r\n  const handleAddCall = (event) => {\r\n    event.preventDefault();\r\n    const newData = Array.from(event.target).reduce(\r\n      (acc, curr) =>\r\n        !keys.includes(curr.name) ? acc : { ...acc, [curr.name]: curr.value },\r\n      data\r\n    );\r\n    const number = newData.phoneNumber\r\n      .replace(/\\(?\\)?-? ?/g, \"\")\r\n      .replace(\"+\", \"00\");\r\n    const phoneNumber =\r\n      `${number.substr(0, 5)} ${number.substr(5, 3)}` +\r\n      ` ${number.substr(8, 3)} ${number.substr(11, 3)}`;\r\n    dispatch(\r\n      addCall({ ...newData, id: Math.random().toString(32), phoneNumber })\r\n    );\r\n    event.target.reset();\r\n  };\r\n\r\n  return (\r\n    <div className=\"add-call\">\r\n      <h3>Add call</h3>\r\n      <div className=\"add-call__details\">\r\n        <form onSubmit={handleAddCall}>\r\n          <input\r\n            required\r\n            name=\"name\"\r\n            className=\"add-call__info\"\r\n            placeholder=\"Name\"\r\n            maxLength=\"30\"\r\n          />\r\n          <input\r\n            required\r\n            name=\"phoneNumber\"\r\n            className=\"add-call__info\"\r\n            placeholder=\"Phone number\"\r\n            type=\"tel\"\r\n            pattern=\"([+]|[0]{2})\\(?\\d{3}\\)? ?-?\\d{3} ?\\d{3} ?\\d{3} ?\"\r\n          />\r\n          <input\r\n            require\r\n            name=\"time\"\r\n            className=\"add-call__info\"\r\n            placeholder=\"Time\"\r\n            pattern=\"\\d{2}:\\d{2}\"\r\n          />\r\n          <div className=\"add-call__submit\">\r\n            <button className=\"add-call__submit__button\" type=\"submit\">\r\n              Add\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddCall;\r\n","import { ActionTypeList } from \"./types\";\r\n\r\nexport const addCall = (call) => ({\r\n  type: ActionTypeList.ADD_CALL,\r\n  payload: call,\r\n});\r\n\r\nexport const deleteCall = (id) => ({\r\n  type: ActionTypeList.DELETE_CALL,\r\n  payload: id,\r\n});\r\n","import React from \"react\";\r\nimport \"./Button.scss\";\r\n\r\nfunction Button(props) {\r\n  return (\r\n    <button {...props} className=\"button\" type=\"submit\">\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","export const getCurrentTime = () => {\r\n  const currentDate = new Date();\r\n  const currentTime = `${currentDate.getHours()}:${currentDate.getMinutes()}`;\r\n\r\n  return currentTime;\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getCurrentTime } from \"../../helpers/date\";\r\nimport { deleteCall } from \"../../redux/actionCreators\";\r\nimport Button from \"../Button/Button\";\r\n\r\nfunction CallItem({ call }) {\r\n  const dispatch = useDispatch();\r\n  const currentTime = getCurrentTime();\r\n  const handleDeleteCall = () => {\r\n    dispatch(deleteCall(call.id));\r\n  };\r\n  return (\r\n    <tr>\r\n      <td className=\"call-list__table__cell call-list__table__name\">\r\n        {call.name}\r\n      </td>\r\n      <td className=\"call-list__table__cell call-list__table__number\">\r\n        {call.phoneNumber}\r\n      </td>\r\n      <td className=\"call-list__table__cell call-list__table__time\">\r\n        {call.time}\r\n      </td>\r\n      <td className=\"call-list__table__cell\">\r\n        <Button onClick={handleDeleteCall}>Delete</Button>\r\n      </td>\r\n      <td className=\"call-list__table__cell\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={currentTime > call.time}\r\n          disabled\r\n        ></input>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default CallItem;\r\n","import { getCurrentTime } from \"../helpers/date\";\r\n\r\nexport const getCalls = (state) => state.calls;\r\n\r\nexport const getNextCall = (state) => {\r\n  const currentTime = getCurrentTime();\r\n  return state.calls\r\n    .sort((a, b) => (a.time > b.time ? 1 : a.time === b.time ? 0 : -1))\r\n    .filter((call) => call.time > currentTime)[0];\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCurrentTime } from \"../../helpers/date\";\r\nimport { getCalls } from \"../../redux/selectors\";\r\n\r\nconst filters = (currentTime) => ({\r\n  all: () => true,\r\n  next: (call) => call.time > currentTime,\r\n  finished: (call) => call.time < currentTime,\r\n});\r\n\r\nconst sortByOrder = (key, order) => (firstCall, secondCall) => {\r\n  const directionMutiplier = order === \"asc\" ? 1 : -1;\r\n\r\n  if (firstCall[key] > secondCall[key]) {\r\n    return directionMutiplier;\r\n  }\r\n\r\n  if (firstCall[key] < secondCall[key]) {\r\n    return -directionMutiplier;\r\n  }\r\n\r\n  return 0;\r\n};\r\n\r\nexport const useSortedCalls = () => {\r\n  const [filter, setFilter] = useState(\"all\");\r\n  const [sortOrder, setSortOrder] = useState([\"time\", \"asc\"]);\r\n\r\n  const calls = useSelector(getCalls);\r\n  const currentTime = getCurrentTime();\r\n\r\n  const handleSortOrderChange = (key, order = \"asc\") => {\r\n    setSortOrder([key, order === \"asc\" ? \"desc\" : \"asc\"]);\r\n  };\r\n\r\n  const sortedCalls = calls\r\n    .filter(filters(currentTime)[filter])\r\n    .sort(sortByOrder(...sortOrder));\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"calls\", JSON.stringify(calls));\r\n  }, [calls]);\r\n\r\n  return { sortOrder, setFilter, handleSortOrderChange, sortedCalls };\r\n};\r\n","import React from \"react\";\r\nimport Button from \"../Button/Button\";\r\nimport CallItem from \"./CallItem\";\r\nimport \"./CallList.scss\";\r\nimport { useSortedCalls } from \"./Hook\";\r\n\r\nconst getSortIcon = (sortOrder, name) => {\r\n  if (sortOrder[0] !== name) {\r\n    return \"\";\r\n  }\r\n\r\n  return sortOrder[1] === \"asc\" ? \"▲\" : \"▼\";\r\n};\r\n\r\nfunction CallList() {\r\n  const {\r\n    sortOrder,\r\n    setFilter,\r\n    handleSortOrderChange,\r\n    sortedCalls,\r\n  } = useSortedCalls();\r\n  return (\r\n    <div className=\"call-list\">\r\n      <table className=\"call-list__table\">\r\n        <tbody>\r\n          <tr>\r\n            <th\r\n              className=\"call-list__table__header\"\r\n              onClick={() => handleSortOrderChange(\"name\", sortOrder[1])}\r\n            >\r\n              Name\r\n              {getSortIcon(sortOrder, \"name\")}\r\n            </th>\r\n            <th className=\"call-list__table__header\">Phone number</th>\r\n            <th\r\n              className=\"call-list__table__header\"\r\n              onClick={() => handleSortOrderChange(\"time\", sortOrder[1])}\r\n            >\r\n              Time\r\n              {getSortIcon(sortOrder, \"time\")}\r\n            </th>\r\n            <th className=\"call-list__table__header\"></th>\r\n            <th className=\"call-list__table__header\"></th>\r\n          </tr>\r\n          {sortedCalls.map((call) => (\r\n            <CallItem call={call} key={call.id} />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"calls-filters\">\r\n        <Button onClick={() => setFilter(\"all\")}>All</Button>\r\n        <Button onClick={() => setFilter(\"next\")}>Next</Button>\r\n        <Button onClick={() => setFilter(\"finished\")}>Finished</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CallList;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getNextCall } from \"../../redux/selectors\";\r\nimport \"./NextCall.scss\";\r\n\r\nfunction NextCall() {\r\n  const nextCall = useSelector(getNextCall);\r\n  return (\r\n    <div className=\"next-call\">\r\n      <h3>Next call</h3>\r\n      <div className=\"next-call__details\">\r\n        <span className=\"next-call__name next-call__info\">\r\n          {nextCall?.name || \"Name\"}\r\n        </span>\r\n        <span className=\"next-call__number next-call__info\">\r\n          {nextCall?.phoneNumber || \"Phone Number\"}\r\n        </span>\r\n        <span className=\"next-call__time next-call__info\">\r\n          {nextCall?.time || \"time\"}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NextCall;\r\n","import { ActionTypeList, initialState } from \"./types\";\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ActionTypeList.ADD_CALL:\r\n      return {\r\n        ...state,\r\n        calls: [...state.calls, action.payload],\r\n      };\r\n\r\n    case ActionTypeList.DELETE_CALL:\r\n      return {\r\n        ...state,\r\n        calls: state.calls.filter((call) => call.id !== action.payload),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from \"redux\";\r\nimport reducers from \"./reducer\";\r\n\r\nexport function configureStore() {\r\n  return createStore(reducers);\r\n}\r\nexport const store = configureStore();\r\nexport default store;\r\n","import \"./App.scss\";\r\nimport AddCall from \"./components/AddCall/AddCall\";\r\nimport CallList from \"./components/CallList/CallList\";\r\nimport NextCall from \"./components/NextCall/NextCall\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./redux/configureStore\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <div className=\"app\">\r\n        <div className=\"wrapper\">\r\n          <NextCall />\r\n          <AddCall />\r\n        </div>\r\n        <CallList />\r\n      </div>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}
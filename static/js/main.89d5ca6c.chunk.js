(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var l=c(0),a=c(1),n=c.n(a),s=c(5),r=c.n(s),i=(c(21),c(22),c(6)),d=c(2),o=c(3),b="ADD_CALL",j="DELETE_CALL",u={calls:JSON.parse(localStorage.getItem("calls"))||[]},m=(c(29),{name:"",phoneNumber:"",time:""}),_=Object.keys(m);var h=function(){var e=Object(o.b)();return Object(l.jsxs)("div",{className:"add-call",children:[Object(l.jsx)("h3",{children:"Add call"}),Object(l.jsx)("div",{className:"add-call__details",children:Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c,l=Array.from(t.target).reduce((function(e,t){return _.includes(t.name)?Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},t.name,t.value)):e}),m),a=l.phoneNumber.replace(/\(?\)?-? ?/g,"").replace("+","00"),n="".concat(a.substr(0,5)," ").concat(a.substr(5,3))+" ".concat(a.substr(8,3)," ").concat(a.substr(11,3));e((c=Object(d.a)(Object(d.a)({},l),{},{id:Math.random().toString(32),phoneNumber:n}),{type:b,payload:c})),t.target.reset()},children:[Object(l.jsx)("input",{required:!0,name:"name",className:"add-call__info",placeholder:"Name",maxLength:"30"}),Object(l.jsx)("input",{required:!0,name:"phoneNumber",className:"add-call__info",placeholder:"Phone number",type:"tel",pattern:"([+]|[0]{2})\\(?\\d{3}\\)? ?-?\\d{3} ?\\d{3} ?\\d{3} ?"}),Object(l.jsx)("input",{require:!0,name:"time",className:"add-call__info",placeholder:"Time",pattern:"\\d{2}:\\d{2}"}),Object(l.jsx)("div",{className:"add-call__submit",children:Object(l.jsx)("button",{className:"add-call__submit__button",type:"submit",children:"Add"})})]})})]})};c(30);var O=function(e){return Object(l.jsx)("button",Object(d.a)(Object(d.a)({},e),{},{className:"button",type:"submit",children:e.children}))},x=function(){var e=new Date;return"".concat(e.getHours(),":").concat(e.getMinutes())};var f=function(e){var t=e.call,c=Object(o.b)(),a=x();return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"call-list__table__cell call-list__table__name",children:t.name}),Object(l.jsx)("td",{className:"call-list__table__cell call-list__table__number",children:t.phoneNumber}),Object(l.jsx)("td",{className:"call-list__table__cell call-list__table__time",children:t.time}),Object(l.jsx)("td",{className:"call-list__table__cell",children:Object(l.jsx)(O,{onClick:function(){var e;c((e=t.id,{type:j,payload:e}))},children:"Delete"})}),Object(l.jsx)("td",{className:"call-list__table__cell",children:Object(l.jsx)("input",{type:"checkbox",checked:a>t.time,disabled:!0})})]})},p=(c(31),c(9)),N=c(14),v=function(e){return e.calls},g=function(e){var t=x();return e.calls.sort((function(e,t){return e.time>t.time?1:e.time===t.time?0:-1})).filter((function(e){return e.time>t}))[0]},y=function(e,t){return function(c,l){var a="asc"===t?1:-1;return c[e]>l[e]?a:c[e]<l[e]?-a:0}},C=function(e,t){return e[0]!==t?"":"asc"===e[1]?"\u25b2":"\u25bc"};var k=function(){var e=function(){var e=Object(a.useState)("all"),t=Object(N.a)(e,2),c=t[0],l=t[1],n=Object(a.useState)(["time","asc"]),s=Object(N.a)(n,2),r=s[0],i=s[1],d=Object(o.c)(v),b=x(),j=d.filter(function(e){return{all:function(){return!0},next:function(t){return t.time>e},finished:function(t){return t.time<e}}}(b)[c]).sort(y.apply(void 0,Object(p.a)(r)));return Object(a.useEffect)((function(){localStorage.setItem("calls",JSON.stringify(d))}),[d]),{sortOrder:r,setFilter:l,handleSortOrderChange:function(e){i([e,"asc"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc")?"desc":"asc"])},sortedCalls:j}}(),t=e.sortOrder,c=e.setFilter,n=e.handleSortOrderChange,s=e.sortedCalls;return Object(l.jsxs)("div",{className:"call-list",children:[Object(l.jsx)("table",{className:"call-list__table",children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsxs)("th",{className:"call-list__table__header",onClick:function(){return n("name",t[1])},children:["Name",C(t,"name")]}),Object(l.jsx)("th",{className:"call-list__table__header",children:"Phone number"}),Object(l.jsxs)("th",{className:"call-list__table__header",onClick:function(){return n("time",t[1])},children:["Time",C(t,"time")]}),Object(l.jsx)("th",{className:"call-list__table__header"}),Object(l.jsx)("th",{className:"call-list__table__header"})]}),s.map((function(e){return Object(l.jsx)(f,{call:e},e.id)}))]})}),Object(l.jsxs)("div",{className:"calls-filters",children:[Object(l.jsx)(O,{onClick:function(){return c("all")},children:"All"}),Object(l.jsx)(O,{onClick:function(){return c("next")},children:"Next"}),Object(l.jsx)(O,{onClick:function(){return c("finished")},children:"Finished"})]})]})};c(32);var S=function(){var e=Object(o.c)(g);return Object(l.jsxs)("div",{className:"next-call",children:[Object(l.jsx)("h3",{children:"Next call"}),Object(l.jsxs)("div",{className:"next-call__details",children:[Object(l.jsx)("span",{className:"next-call__name next-call__info",children:(null===e||void 0===e?void 0:e.name)||"Name"}),Object(l.jsx)("span",{className:"next-call__number next-call__info",children:(null===e||void 0===e?void 0:e.phoneNumber)||"Phone Number"}),Object(l.jsx)("span",{className:"next-call__time next-call__info",children:(null===e||void 0===e?void 0:e.time)||"time"})]})]})},A=c(7),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{calls:[].concat(Object(p.a)(e.calls),[t.payload])});case j:return Object(d.a)(Object(d.a)({},e),{},{calls:e.calls.filter((function(e){return e.id!==t.payload}))});default:return e}};var L=Object(A.b)(D);var w=function(){return Object(l.jsx)(o.a,{store:L,children:Object(l.jsxs)("div",{className:"app",children:[Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsx)(S,{}),Object(l.jsx)(h,{})]}),Object(l.jsx)(k,{})]})})};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.89d5ca6c.chunk.js.map